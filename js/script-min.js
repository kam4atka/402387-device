var noJs=document.querySelector("html"),currentNav=document.querySelector(".catalog-list"),subNav=document.querySelector(".catalog-item-navigation"),writeUs=document.querySelector(".contacts-button"),modalSend=document.querySelector(".modal-send"),mapUs=document.querySelector(".contact-map"),modalMap=document.querySelector(".modal-map"),modalOverlay=document.querySelector(".modal-overlay");if(modalSend)var formSend=modalSend.querySelector("form"),userName=modalSend.querySelector(".writeus-name"),userEmail=modalSend.querySelector(".writeus-email"),userDesc=modalSend.querySelector(".writeus-desc");var isStorageSupport=!0,storageName="",storageEmail="";function setCloseEvent(a){a.querySelector(".modal-close").addEventListener("click",function(e){e.preventDefault(),a.classList.add("hide"),modalOverlay.classList.add("hide")}),modalOverlay.addEventListener("click",function(){a.classList.add("hide"),modalOverlay.classList.add("hide")})}function setCloseEsc(a){window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),a.classList.contains("hide")||a.classList.add("hide"),modalOverlay.classList.contains("hide")||modalOverlay.classList.add("hide"))})}function writeUsHendler(e){e.preventDefault(),modalSend.classList.remove("modal-error"),modalOverlay.classList.remove("hide"),modalSend.classList.remove("hide"),setCloseEvent(modalSend),setCloseEsc(modalSend);try{storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("email")}catch(e){isStorageSupport=!1}storageName&&(userName.value=storageName,userEmail.focus()),storageName&&storageEmail?(userName.value=storageName,userEmail.value=storageEmail,userDesc.focus()):userName.focus(),formSend.addEventListener("submit",function(e){modalSend.classList.remove("modal-error"),userName.value?userName.value&&!userEmail.value?(e.preventDefault(),userEmail.focus(),modalSend.classList.add("modal-error")):(localStorage.setItem("name",userName.value),localStorage.setItem("email",userEmail.value)):(e.preventDefault(),userName.focus(),modalSend.classList.add("modal-error"))})}function mapUsHendler(e){e.preventDefault(),modalOverlay.classList.remove("hide"),modalMap.classList.remove("hide"),setCloseEvent(modalMap),setCloseEsc(modalMap)}noJs.classList.remove("no-js"),currentNav.addEventListener("click",function(e){subNav.classList.toggle("hide")}),writeUs&&writeUs.addEventListener("click",writeUsHendler),mapUs&&mapUs.addEventListener("click",mapUsHendler);